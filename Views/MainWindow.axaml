	<Window xmlns="https://github.com/avaloniaui"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:vm="using:ShadowingApp.ViewModels"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:controls="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls"
		xmlns:converters="using:ShadowingApp.Converters"
		mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="400"
		Width="600" Height="400"
		x:Class="ShadowingApp.Views.MainWindow"
		x:DataType="vm:MainWindowViewModel"
		Icon="/Assets/ShadowingApp.ico"
		Title="ShadowingApp">

	<Design.DataContext>
		<!-- This only sets the DataContext for the previewer in an IDE,
				to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
		<vm:MainWindowViewModel/>
	</Design.DataContext>

	<!-- キーバインディングを追加 -->
	<Window.KeyBindings>
			<KeyBinding Gesture="Space" Command="{Binding PlayControlCommand}"/>
			<KeyBinding Gesture="Enter" Command="{Binding RecordControlCommand}"/>
			<KeyBinding Gesture="Down" Command="{Binding SkipBackwardCommand}" CommandParameter="-30" />
			<KeyBinding Gesture="Left" Command="{Binding SkipBackwardCommand}" CommandParameter="-5" />
			<KeyBinding Gesture="Right" Command="{Binding SkipBackwardCommand}" CommandParameter="5" />
			<KeyBinding Gesture="Up" Command="{Binding SkipBackwardCommand}" CommandParameter="30" />
	</Window.KeyBindings>

	<Window.Resources>
		<!-- トグルの画像 -->
    <converters:ToggleImageSourceConverter x:Key="PlayPauseImageConverter"
										TrueValue="avares://ShadowingApp/Assets/一時停止ボタン.png"
										FalseValue="avares://ShadowingApp/Assets/再生ボタン.png" />
    <converters:ToggleImageSourceConverter x:Key="RecordPlayImageConverter"
										TrueValue="avares://ShadowingApp/Assets/再生ボタン.png"
										FalseValue="avares://ShadowingApp/Assets/マイクのアイコンその10.png" />


		<!-- Thumbの背景色を変更 -->
		<SolidColorBrush x:Key="SliderThumbBackground" Color="{StaticResource AccentColor}" />
		<SolidColorBrush x:Key="SliderThumbBackgroundPointerOver" Color="{StaticResource AccentColor}" />
		<SolidColorBrush x:Key="SliderThumbBackgroundPressed" Color="{StaticResource AccentColor}" />
		<!-- スライダーの値トラック色（進行した部分）を変更 -->
		<SolidColorBrush x:Key="SliderTrackValueFill" Color="{StaticResource AccentColor}" />
		<SolidColorBrush x:Key="SliderTrackValueFillPointerOver" Color="{StaticResource AccentColor}" />
		<SolidColorBrush x:Key="SliderTrackValueFillPressed" Color="{StaticResource AccentColor}" />
		<!-- Thumbのサイズを変更 -->
		<x:Double x:Key="SliderHorizontalThumbWidth">12</x:Double>  <!-- 横向きスライダーのThumb幅 -->
		<x:Double x:Key="SliderHorizontalThumbHeight">12</x:Double> <!-- 横向きスライダーのThumb高さ -->
	</Window.Resources>

	<Window.Styles>
		<!-- 基本スタイル - トランジションとTransformOriginの設定 -->
		<Style Selector="Button /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Transitions">
				<Setter.Value>
					<Transitions>
						<TransformOperationsTransition Property="RenderTransform" Easing="QuadraticEaseInOut" />
					</Transitions>
				</Setter.Value>
			</Setter>
		</Style>
		<!-- ホバー -->
		<Style Selector="Button:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="RenderTransform">
				<Setter.Value>
					<TransformGroup>
						<ScaleTransform ScaleX="0.97" ScaleY="0.97" />
					</TransformGroup>
				</Setter.Value>
			</Setter>
		</Style>
		<!-- クリック -->
		<Style Selector="Button:pressed /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="RenderTransform">
				<Setter.Value>
					<TransformGroup>
						<ScaleTransform ScaleX="0.95" ScaleY="0.95" />
					</TransformGroup>
				</Setter.Value>
			</Setter>
		</Style>
		<!-- アクセントボタン -->
		<Style Selector="Button.AccentButton:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="{StaticResource AccentBrush}" />
		</Style>
		<Style Selector="Button.AccentButton:pressed /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="{StaticResource AccentBrush}" />
		</Style>

		<!-- 透明ボタン -->
		<Style Selector="Button.TransparentButton:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="RenderTransform">
				<Setter.Value>
						<TransformGroup>
							<ScaleTransform ScaleX="0.94" ScaleY="0.94" />
						</TransformGroup>
				</Setter.Value>
			</Setter>
		</Style>
		<Style Selector="Button.TransparentButton:pressed /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="Transparent" />
			<Setter Property="RenderTransform">
				<Setter.Value>
						<TransformGroup>
							<ScaleTransform ScaleX="0.9" ScaleY="0.9" />
						</TransformGroup>
				</Setter.Value>
			</Setter>
		</Style>
		<!-- 音声選択ボタン -->
		<Style Selector="Button#SelectVoiceButton:pointerover /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="MistyRose" />
		</Style>
		<Style Selector="Button#SelectVoiceButton:pressed /template/ ContentPresenter#PART_ContentPresenter">
			<Setter Property="Background" Value="MistyRose" />
		</Style>
	</Window.Styles>

	<!-- Body -->
	<StackPanel Margin="20">
		<!-- 音声選択エリア -->
		<StackPanel Orientation="Horizontal" VerticalAlignment="Top">
			<Button x:Name="SelectVoiceButton" Background="MistyRose" Width="100" Height="40" CornerRadius="10" Command="{Binding SelectVoiceCommand}">
				<StackPanel Orientation="Horizontal">
					<Image Source="avares://ShadowingApp/Assets/音楽ファイルアイコン 1.png"/>
					<TextBlock Margin="10 0" HorizontalAlignment="Right" Text="選択" FontSize="18" VerticalAlignment="Center"/>
				</StackPanel>
			</Button>
			<TextBlock Margin="10 0" HorizontalAlignment="Right" Text="{Binding SelectedVoiceFileLabel}" FontSize="15" VerticalAlignment="Center"/>
		</StackPanel>

		<!-- 音声表示エリア -->
		<DockPanel Margin="0 15 0 0">
			<Button Classes="AccentButton" DockPanel.Dock="Right" Margin="25 0 0 0" Background="{StaticResource AccentBrush}" Width="60" Height="60" CornerRadius="10" Padding="14" VerticalAlignment="Bottom"  Command="{Binding RecordControlCommand}">
				<Image Source="{Binding IsRecording, Converter={StaticResource RecordPlayImageConverter}}" />
			</Button>
			<Rectangle Height="160" Fill="LightGray"/>
		</DockPanel>

		<!-- シークバー -->
		<DockPanel>
			<!-- {Binding #slider.Value} -->
			<Slider DockPanel.Dock="Top" Margin="0 10 0 0" Maximum="{Binding TotalTime}" Value="{Binding CurrentTime}" />
			<TextBlock DockPanel.Dock="Left" HorizontalAlignment="Left" Text="{Binding ElapsedLabel}" FontSize="14" Margin="0 -10 0 0" />
			<TextBlock DockPanel.Dock="Right" HorizontalAlignment="Right" Text="{Binding RemainingLabel}" FontSize="14"  Margin="0 -10 0 0" />
		</DockPanel>

		<!-- コントロールエリア -->
		<StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
			<!-- 30秒バック -->
			<StackPanel Margin="15 0 15 0" Orientation="Vertical" VerticalAlignment="Bottom">
				<Button Classes="TransparentButton" Background="Transparent" Width="42" Height="42" Padding="1"
				Command="{Binding SkipBackwardCommand}" CommandParameter="-30">
					<Image Source="avares://ShadowingApp/Assets/共有矢印.png">
						<Image.RenderTransform>
							<ScaleTransform ScaleX="-1" />
						</Image.RenderTransform>
					</Image>
				</Button>
				<TextBlock HorizontalAlignment="Center" Text="30" FontSize="14"/>
			</StackPanel>
			<!-- 5秒バック -->
			<StackPanel Margin="15 0 15 0" Orientation="Vertical" VerticalAlignment="Bottom">
				<Button Classes="TransparentButton" Background="Transparent" Width="30" Height="30" Padding="1"
				Command="{Binding SkipBackwardCommand}" CommandParameter="-5">
					<Image Source="avares://ShadowingApp/Assets/共有矢印.png">
						<Image.RenderTransform>
							<ScaleTransform ScaleX="-1" />
						</Image.RenderTransform>
					</Image>
				</Button>
				<TextBlock HorizontalAlignment="Center" Text="5" FontSize="14"/>
			</StackPanel>
			<!-- 再生ボタン -->
			<Button Classes="AccentButton" Margin="15 0 15 0" Background="{StaticResource AccentBrush}" Width="70" Height="70" CornerRadius="50" Padding="20" Command="{Binding PlayControlCommand}">
				<Image Source="{Binding IsPlaying, Converter={StaticResource PlayPauseImageConverter}}" />
			</Button>
			<!-- 5秒スキップ -->
			<StackPanel Margin="15 0 15 0" Orientation="Vertical" VerticalAlignment="Bottom">
				<Button Classes="TransparentButton" Background="Transparent" Width="30" Height="30" Padding="1"
				Command="{Binding SkipBackwardCommand}" CommandParameter="5">
					<Image Source="avares://ShadowingApp/Assets/共有矢印.png" />
				</Button>
				<TextBlock HorizontalAlignment="Center" Text="5" FontSize="14"/>
			</StackPanel>
			<!-- 30秒スキップ -->
			<StackPanel Margin="15 0 15 0" Orientation="Vertical" VerticalAlignment="Bottom">
				<Button Classes="TransparentButton" Background="Transparent" Width="42" Height="42" Padding="1"
				Command="{Binding SkipBackwardCommand}" CommandParameter="30">
					<Image Source="avares://ShadowingApp/Assets/共有矢印.png" />
				</Button>
				<TextBlock HorizontalAlignment="Center" Text="30" FontSize="14"/>
			</StackPanel>
		</StackPanel>

	</StackPanel>
	</Window>
